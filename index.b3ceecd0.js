function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},t.parcelRequired7c6=a);var s,r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt,d="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),m=Object.prototype.toString,v=Math.max,g=Math.min,y=function(){return p.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==m.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}s=function(e,t,n){var i,a,s,r,o,l,c=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=i,s=a;return i=a=void 0,c=t,r=e.apply(s,n)}function m(e){return c=e,o=setTimeout(_,t),u?p(e):r}function z(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=s}function _(){var e=y();if(z(e))return C(e);o=setTimeout(_,function(e){var n=t-(e-l);return d?g(n,s-(e-c)):n}(e))}function C(e){return o=void 0,f&&i?p(e):(i=a=void 0,r)}function w(){var e=y(),n=z(e);if(i=arguments,a=this,l=e,n){if(void 0===o)return m(l);if(d)return o=setTimeout(_,t),p(l)}return void 0===o&&(o=setTimeout(_,t)),r}return t=b(t)||0,h(n)&&(u=!!n.leading,s=(d="maxWait"in n)?v(b(n.maxWait)||0,t):s,f="trailing"in n?!!n.trailing:f),w.cancel=function(){void 0!==o&&clearTimeout(o),c=0,i=l=a=o=void 0},w.flush=function(){return void 0===o?r:C(y())},w};var z=a("dWFyp"),_=(z=a("dWFyp"),a("fb9GJ")),C=a("3mxMa"),w={};!function(e,t){var n=function(e,t,n){var i,a;if(function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in a=e.lazySizesConfig||e.lazysizesConfig||{},n)t in a||(a[t]=n[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:a,noSupport:!0};var s=t.documentElement,r=e.HTMLPictureElement,o="addEventListener",l="getAttribute",c=e[o].bind(e),u=e.setTimeout,d=e.requestAnimationFrame||u,f=e.requestIdleCallback,p=/^picture$/i,m=["load","error","lazyincluded","_lazyloaded"],v={},g=Array.prototype.forEach,y=function(e,t){return v[t]||(v[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),v[t].test(e[l]("class")||"")&&v[t]},h=function(e,t){y(e,t)||e.setAttribute("class",(e[l]("class")||"").trim()+" "+t)},b=function(e,t){var n;(n=y(e,t))&&e.setAttribute("class",(e[l]("class")||"").replace(n," "))},z=function(e,t,n){var i=n?o:"removeEventListener";n&&z(e,t),m.forEach((function(n){e[i](n,t)}))},_=function(e,n,a,s,r){var o=t.createEvent("Event");return a||(a={}),a.instance=i,o.initEvent(n,!s,!r),o.detail=a,e.dispatchEvent(o),o},C=function(t,n){var i;!r&&(i=e.picturefill||a.pf)?(n&&n.src&&!t[l]("srcset")&&t.setAttribute("srcset",n.src),i({reevaluate:!0,elements:[t]})):n&&n.src&&(t.src=n.src)},w=function(e,t){return(getComputedStyle(e,null)||{})[t]},M=function(e,t,n){for(n=n||e.offsetWidth;n<a.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},A=(he=[],be=[],ze=he,_e=function(){var e=ze;for(ze=he.length?be:he,ge=!0,ye=!1;e.length;)e.shift()();ge=!1},Ce=function(e,n){ge&&!n?e.apply(this,arguments):(ze.push(e),ye||(ye=!0,(t.hidden?u:d)(_e)))},Ce._lsFlush=_e,Ce),E=function(e,t){return t?function(){A(e)}:function(){var t=this,n=arguments;A((function(){e.apply(t,n)}))}},T=function(e){var t,i=0,s=a.throttleDelay,r=a.ricTimeout,o=function(){t=!1,i=n.now(),e()},l=f&&r>49?function(){f(o,{timeout:r}),r!==a.ricTimeout&&(r=a.ricTimeout)}:E((function(){u(o)}),!0);return function(e){var a;(e=!0===e)&&(r=33),t||(t=!0,(a=s-(n.now()-i))<0&&(a=0),e||a<9?l():u(l,a))}},N=function(e){var t,i,a=99,s=function(){t=null,e()},r=function(){var e=n.now()-i;e<a?u(r,a-e):(f||s)(s)};return function(){i=n.now(),t||(t=u(r,a))}},L=(J=/^img$/i,K=/^iframe$/i,Q="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),Z=0,X=0,Y=0,ee=-1,te=function(e){Y--,(!e||Y<0||!e.target)&&(Y=0)},ne=function(e){return null==V&&(V="hidden"==w(t.body,"visibility")),V||!("hidden"==w(e.parentNode,"visibility")&&"hidden"==w(e,"visibility"))},ie=function(e,n){var i,a=e,r=ne(e);for(H-=n,G+=n,k-=n,U+=n;r&&(a=a.offsetParent)&&a!=t.body&&a!=s;)(r=(w(a,"opacity")||1)>0)&&"visible"!=w(a,"overflow")&&(i=a.getBoundingClientRect(),r=U>i.left&&k<i.right&&G>i.top-1&&H<i.bottom+1);return r},ae=function(){var e,n,r,o,c,u,d,f,p,m,v,g,y=i.elements;if((P=a.loadMode)&&Y<8&&(e=y.length)){for(n=0,ee++;n<e;n++)if(y[n]&&!y[n]._lazyRace)if(!Q||i.prematureUnveil&&i.prematureUnveil(y[n]))fe(y[n]);else if((f=y[n][l]("data-expand"))&&(u=1*f)||(u=X),m||(m=!a.expand||a.expand<1?s.clientHeight>500&&s.clientWidth>500?500:370:a.expand,i._defEx=m,v=m*a.expFactor,g=a.hFac,V=null,X<v&&Y<1&&ee>2&&P>2&&!t.hidden?(X=v,ee=0):X=P>1&&ee>1&&Y<6?m:Z),p!==u&&(q=innerWidth+u*g,R=innerHeight+u,d=-1*u,p=u),r=y[n].getBoundingClientRect(),(G=r.bottom)>=d&&(H=r.top)<=R&&(U=r.right)>=d*g&&(k=r.left)<=q&&(G||U||k||H)&&(a.loadHidden||ne(y[n]))&&($&&Y<3&&!f&&(P<3||ee<4)||ie(y[n],u))){if(fe(y[n]),c=!0,Y>9)break}else!c&&$&&!o&&Y<4&&ee<4&&P>2&&(F[0]||a.preloadAfterLoad)&&(F[0]||!f&&(G||U||k||H||"auto"!=y[n][l](a.sizesAttr)))&&(o=F[0]||y[n]);o&&!c&&fe(o)}},se=T(ae),re=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(te(e),h(t,a.loadedClass),b(t,a.loadingClass),z(t,le),_(t,"lazyloaded"))},oe=E(re),le=function(e){oe({target:e.target})},ce=function(e,t){var n=e.getAttribute("data-load-mode")||a.iframeLoadMode;0==n?e.contentWindow.location.replace(t):1==n&&(e.src=t)},ue=function(e){var t,n=e[l](a.srcsetAttr);(t=a.customMedia[e[l]("data-media")||e[l]("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n)},de=E((function(e,t,n,i,s){var r,o,c,d,f,m;(f=_(e,"lazybeforeunveil",t)).defaultPrevented||(i&&(n?h(e,a.autosizesClass):e.setAttribute("sizes",i)),o=e[l](a.srcsetAttr),r=e[l](a.srcAttr),s&&(d=(c=e.parentNode)&&p.test(c.nodeName||"")),m=t.firesLoad||"src"in e&&(o||r||d),f={target:e},h(e,a.loadingClass),m&&(clearTimeout(B),B=u(te,2500),z(e,le,!0)),d&&g.call(c.getElementsByTagName("source"),ue),o?e.setAttribute("srcset",o):r&&!d&&(K.test(e.nodeName)?ce(e,r):e.src=r),s&&(o||d)&&C(e,{src:r})),e._lazyRace&&delete e._lazyRace,b(e,a.lazyClass),A((function(){var t=e.complete&&e.naturalWidth>1;m&&!t||(t&&h(e,a.fastLoadedClass),re(f),e._lazyCache=!0,u((function(){"_lazyCache"in e&&delete e._lazyCache}),9)),"lazy"==e.loading&&Y--}),!0)})),fe=function(e){if(!e._lazyRace){var t,n=J.test(e.nodeName),i=n&&(e[l](a.sizesAttr)||e[l]("sizes")),s="auto"==i;(!s&&$||!n||!e[l]("src")&&!e.srcset||e.complete||y(e,a.errorClass)||!y(e,a.lazyClass))&&(t=_(e,"lazyunveilread").detail,s&&x.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,Y++,de(e,t,s,i,n))}},pe=N((function(){a.loadMode=3,se()})),me=function(){3==a.loadMode&&(a.loadMode=2),pe()},ve=function(){$||(n.now()-j<999?u(ve,999):($=!0,a.loadMode=3,se(),c("scroll",me,!0)))},{_:function(){j=n.now(),i.elements=t.getElementsByClassName(a.lazyClass),F=t.getElementsByClassName(a.lazyClass+" "+a.preloadClass),c("scroll",se,!0),c("resize",se,!0),c("pageshow",(function(e){if(e.persisted){var n=t.querySelectorAll("."+a.loadingClass);n.length&&n.forEach&&d((function(){n.forEach((function(e){e.complete&&fe(e)}))}))}})),e.MutationObserver?new MutationObserver(se).observe(s,{childList:!0,subtree:!0,attributes:!0}):(s[o]("DOMNodeInserted",se,!0),s[o]("DOMAttrModified",se,!0),setInterval(se,999)),c("hashchange",se,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(e){t[o](e,se,!0)})),/d$|^c/.test(t.readyState)?ve():(c("load",ve),t[o]("DOMContentLoaded",se),u(ve,2e4)),i.elements.length?(ae(),A._lsFlush()):se()},checkElems:se,unveil:fe,_aLSL:me}),x=(I=E((function(e,t,n,i){var a,s,r;if(e._lazysizesWidth=i,i+="px",e.setAttribute("sizes",i),p.test(t.nodeName||""))for(s=0,r=(a=t.getElementsByTagName("source")).length;s<r;s++)a[s].setAttribute("sizes",i);n.detail.dataAttr||C(e,n.detail)})),W=function(e,t,n){var i,a=e.parentNode;a&&(n=M(e,a,n),(i=_(e,"lazybeforesizes",{width:n,dataAttr:!!t})).defaultPrevented||(n=i.detail.width)&&n!==e._lazysizesWidth&&I(e,a,i,n))},D=N((function(){var e,t=O.length;if(t)for(e=0;e<t;e++)W(O[e])})),{_:function(){O=t.getElementsByClassName(a.autosizesClass),c("resize",D)},checkElems:D,updateElem:W}),S=function(){!S.i&&t.getElementsByClassName&&(S.i=!0,x._(),L._())};var O,I,W,D;var F,$,B,P,j,q,R,H,k,U,G,V,J,K,Q,Z,X,Y,ee,te,ne,ie,ae,se,re,oe,le,ce,ue,de,fe,pe,me,ve;var ge,ye,he,be,ze,_e,Ce;return u((function(){a.init&&S()})),i={cfg:a,autoSizer:x,loader:L,init:S,uP:C,aC:h,rC:b,hC:y,fire:_,gW:M,rAF:A}}(e,e.document,Date);e.lazySizes=n,w&&(w=n)}("undefined"!=typeof window?window:{});const M=new(0,z.TheMovieDbAPI),A=document.querySelector(".films-list"),E=document.getElementById("tui-pagination-container");let T=null;let N=[];async function L(e){try{const{data:{genres:t}}=await M.getGenres(e);N=[...t]}catch(e){}}async function x(t=1){try{const{data:{results:n,total_results:i}}=await M.getPopularFilms(t);setTimeout((()=>{var t;t=i,T||(T=new(e(_))(E,{totalItems:t,itemsPerPage:20,visiblePages:10,page:1,centerAlign:!1,usageStatistics:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn-more tui-{{type}}"><span class="tui-ico-{{type}}"></span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}"></span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}}),T.on("afterMove",(e=>{x(e.page)})))}),3e3),S(n)}catch(e){console.log(e)}}function S(e){const t=e.map((e=>{const{id:t,title:n,poster_path:i,release_date:a,genre_ids:s}=e,r=[];for(const e of N)s.includes(e.id)&&r.push(e.name);const o=r.join(", ");return`<li class="films-list__item poster">\n          <a href="#" class="films-list__link" data-movie-id="${t}">\n            <div class="films-list__image-wrapper">\n              <img\n                width="280"\n                height="420"\n                alt="poster of ${z.TheMovieDbAPI.IMG_URL+i} movie"\n                class="films-list__image lazyload"\n                data-src="${z.TheMovieDbAPI.IMG_URL+i}"\n                src="https://college.unc.edu/wp-content/uploads/sites/1280/2020/05/film1.jpg"\n              />\n            </div>\n\t\t\t\t<div class="poster__info">\n            <h2 class="poster__title">${n.toUpperCase()}</h2>\n            <p class="poster__genre">\n\t\t\t\t<span class="poster__genres">${o}</span>\n              <span class="poster__year">${parseInt(a)} </span>\n            </p>\n\t\t\t\t</div>\n          </a>\n        </li>`})).join("");(0,C.stopSpin)(),setTimeout((()=>{A.innerHTML=t}),500)}L(),x();const O=new(0,z.TheMovieDbAPI),I=document.querySelector(".search"),W=document.querySelector(".films-list"),D=document.querySelector(".search__warning");L();I&&I.addEventListener("input",e(s)((async e=>{if(e.preventDefault(),O.query=e.target.value.trim(),O.page=1,""!==O.query)try{const{data:{results:e}}=await O.fetchUniqFilms();if(0===e.length)return D.innerHTML="Search result not successful. Enter the correct movie name.",W.innerHTML="",void x();D.innerHTML="",S(e)}catch(e){console.log(e)}else D.innerHTML="",x()}),500)),a("dWFyp"),a("422V3");a("dohZK"),a("Iwkks"),a("epHO8"),a("1VOaQ"),a("kmBCV"),a("h53OD");
//# sourceMappingURL=index.b3ceecd0.js.map
