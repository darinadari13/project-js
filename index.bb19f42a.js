!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequired7c6=i);var r,s=i("bpxeT"),o=i("2TvXO"),l=i("l5bVx"),c=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,f=/^0o[0-7]+$/i,p=parseInt,v="object"==typeof t&&t&&t.Object===Object&&t,m="object"==typeof self&&self&&self.Object===Object&&self,h=v||m||Function("return this")(),g=Object.prototype.toString,y=Math.max,b=Math.min,z=function(){return h.Date.now()};function _(t){var n=void 0===t?"undefined":e(l)(t);return!!t&&("object"==n||"function"==n)}function w(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":e(l)(t))||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==g.call(t)}(t))return NaN;if(_(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=_(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var a=d.test(t);return a||f.test(t)?p(t.slice(2),a?2:8):u.test(t)?NaN:+t}r=function(e,t,n){var a,i,r,s,o,l,c=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=a,r=i;return a=i=void 0,c=t,s=e.apply(r,n)}function v(e){return c=e,o=setTimeout(h,t),u?p(e):s}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=r}function h(){var e=z();if(m(e))return g(e);o=setTimeout(h,function(e){var n=t-(e-l);return d?b(n,r-(e-c)):n}(e))}function g(e){return o=void 0,f&&a?p(e):(a=i=void 0,s)}function C(){var e=z(),n=m(e);if(a=arguments,i=this,l=e,n){if(void 0===o)return v(l);if(d)return o=setTimeout(h,t),p(l)}return void 0===o&&(o=setTimeout(h,t)),s}return t=w(t)||0,_(n)&&(u=!!n.leading,r=(d="maxWait"in n)?y(w(n.maxWait)||0,t):r,f="trailing"in n?!!n.trailing:f),C.cancel=function(){void 0!==o&&clearTimeout(o),c=0,a=l=i=o=void 0},C.flush=function(){return void 0===o?s:g(z())},C};var C=i("8IL3w"),x=(s=i("bpxeT"),i("8nrFW")),A=(o=i("2TvXO"),C=i("8IL3w"),i("1VFfL")),E=i("9ovyc"),M={};!function(e,t){var n=function(e,t,n){"use strict";var a,i;if(function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in i=e.lazySizesConfig||e.lazysizesConfig||{},n)t in i||(i[t]=n[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:i,noSupport:!0};var r=t.documentElement,s=e.HTMLPictureElement,o="addEventListener",l="getAttribute",c=e[o].bind(e),u=e.setTimeout,d=e.requestAnimationFrame||u,f=e.requestIdleCallback,p=/^picture$/i,v=["load","error","lazyincluded","_lazyloaded"],m={},h=Array.prototype.forEach,g=function(e,t){return m[t]||(m[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),m[t].test(e[l]("class")||"")&&m[t]},y=function(e,t){g(e,t)||e.setAttribute("class",(e[l]("class")||"").trim()+" "+t)},b=function(e,t){var n;(n=g(e,t))&&e.setAttribute("class",(e[l]("class")||"").replace(n," "))},z=function(e,t,n){var a=n?o:"removeEventListener";n&&z(e,t),v.forEach((function(n){e[a](n,t)}))},_=function(e,n,i,r,s){var o=t.createEvent("Event");return i||(i={}),i.instance=a,o.initEvent(n,!r,!s),o.detail=i,e.dispatchEvent(o),o},w=function(t,n){var a;!s&&(a=e.picturefill||i.pf)?(n&&n.src&&!t[l]("srcset")&&t.setAttribute("srcset",n.src),a({reevaluate:!0,elements:[t]})):n&&n.src&&(t.src=n.src)},C=function(e,t){return(getComputedStyle(e,null)||{})[t]},x=function(e,t,n){for(n=n||e.offsetWidth;n<i.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},A=(ye=[],be=[],ze=ye,_e=function(){var e=ze;for(ze=ye.length?be:ye,he=!0,ge=!1;e.length;)e.shift()();he=!1},we=function(e,n){he&&!n?e.apply(this,arguments):(ze.push(e),ge||(ge=!0,(t.hidden?u:d)(_e)))},we._lsFlush=_e,we),E=function(e,t){return t?function(){A(e)}:function(){var t=this,n=arguments;A((function(){e.apply(t,n)}))}},M=function(e){var t,a=0,r=i.throttleDelay,s=i.ricTimeout,o=function(){t=!1,a=n.now(),e()},l=f&&s>49?function(){f(o,{timeout:s}),s!==i.ricTimeout&&(s=i.ricTimeout)}:E((function(){u(o)}),!0);return function(e){var i;(e=!0===e)&&(s=33),t||(t=!0,(i=r-(n.now()-a))<0&&(i=0),e||i<9?l():u(l,i))}},T=function(e){var t,a,i=99,r=function(){t=null,e()},s=function(){var e=n.now()-a;e<i?u(s,i-e):(f||r)(r)};return function(){a=n.now(),t||(t=u(s,i))}},L=(X=/^img$/i,Z=/^iframe$/i,K="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),J=0,Q=0,Y=0,ee=-1,te=function(e){Y--,(!e||Y<0||!e.target)&&(Y=0)},ne=function(e){return null==V&&(V="hidden"==C(t.body,"visibility")),V||!("hidden"==C(e.parentNode,"visibility")&&"hidden"==C(e,"visibility"))},ae=function(e,n){var a,i=e,s=ne(e);for(H-=n,G+=n,$-=n,U+=n;s&&(i=i.offsetParent)&&i!=t.body&&i!=r;)(s=(C(i,"opacity")||1)>0)&&"visible"!=C(i,"overflow")&&(a=i.getBoundingClientRect(),s=U>a.left&&$<a.right&&G>a.top-1&&H<a.bottom+1);return s},ie=function(){var e,n,s,o,c,u,d,f,p,v,m,h,g=a.elements;if((W=i.loadMode)&&Y<8&&(e=g.length)){for(n=0,ee++;n<e;n++)if(g[n]&&!g[n]._lazyRace)if(!K||a.prematureUnveil&&a.prematureUnveil(g[n]))fe(g[n]);else if((f=g[n][l]("data-expand"))&&(u=1*f)||(u=Q),v||(v=!i.expand||i.expand<1?r.clientHeight>500&&r.clientWidth>500?500:370:i.expand,a._defEx=v,m=v*i.expFactor,h=i.hFac,V=null,Q<m&&Y<1&&ee>2&&W>2&&!t.hidden?(Q=m,ee=0):Q=W>1&&ee>1&&Y<6?v:J),p!==u&&(q=innerWidth+u*h,R=innerHeight+u,d=-1*u,p=u),s=g[n].getBoundingClientRect(),(G=s.bottom)>=d&&(H=s.top)<=R&&(U=s.right)>=d*h&&($=s.left)<=q&&(G||U||$||H)&&(i.loadHidden||ne(g[n]))&&(F&&Y<3&&!f&&(W<3||ee<4)||ae(g[n],u))){if(fe(g[n]),c=!0,Y>9)break}else!c&&F&&!o&&Y<4&&ee<4&&W>2&&(j[0]||i.preloadAfterLoad)&&(j[0]||!f&&(G||U||$||H||"auto"!=g[n][l](i.sizesAttr)))&&(o=j[0]||g[n]);o&&!c&&fe(o)}},re=M(ie),se=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(te(e),y(t,i.loadedClass),b(t,i.loadingClass),z(t,le),_(t,"lazyloaded"))},oe=E(se),le=function(e){oe({target:e.target})},ce=function(e,t){var n=e.getAttribute("data-load-mode")||i.iframeLoadMode;0==n?e.contentWindow.location.replace(t):1==n&&(e.src=t)},ue=function(e){var t,n=e[l](i.srcsetAttr);(t=i.customMedia[e[l]("data-media")||e[l]("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n)},de=E((function(e,t,n,a,r){var s,o,c,d,f,v;(f=_(e,"lazybeforeunveil",t)).defaultPrevented||(a&&(n?y(e,i.autosizesClass):e.setAttribute("sizes",a)),o=e[l](i.srcsetAttr),s=e[l](i.srcAttr),r&&(d=(c=e.parentNode)&&p.test(c.nodeName||"")),v=t.firesLoad||"src"in e&&(o||s||d),f={target:e},y(e,i.loadingClass),v&&(clearTimeout(P),P=u(te,2500),z(e,le,!0)),d&&h.call(c.getElementsByTagName("source"),ue),o?e.setAttribute("srcset",o):s&&!d&&(Z.test(e.nodeName)?ce(e,s):e.src=s),r&&(o||d)&&w(e,{src:s})),e._lazyRace&&delete e._lazyRace,b(e,i.lazyClass),A((function(){var t=e.complete&&e.naturalWidth>1;v&&!t||(t&&y(e,i.fastLoadedClass),se(f),e._lazyCache=!0,u((function(){"_lazyCache"in e&&delete e._lazyCache}),9)),"lazy"==e.loading&&Y--}),!0)})),fe=function(e){if(!e._lazyRace){var t,n=X.test(e.nodeName),a=n&&(e[l](i.sizesAttr)||e[l]("sizes")),r="auto"==a;(!r&&F||!n||!e[l]("src")&&!e.srcset||e.complete||g(e,i.errorClass)||!g(e,i.lazyClass))&&(t=_(e,"lazyunveilread").detail,r&&N.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,Y++,de(e,t,r,a,n))}},pe=T((function(){i.loadMode=3,re()})),ve=function(){3==i.loadMode&&(i.loadMode=2),pe()},me=function(){F||(n.now()-B<999?u(me,999):(F=!0,i.loadMode=3,re(),c("scroll",ve,!0)))},{_:function(){B=n.now(),a.elements=t.getElementsByClassName(i.lazyClass),j=t.getElementsByClassName(i.lazyClass+" "+i.preloadClass),c("scroll",re,!0),c("resize",re,!0),c("pageshow",(function(e){if(e.persisted){var n=t.querySelectorAll("."+i.loadingClass);n.length&&n.forEach&&d((function(){n.forEach((function(e){e.complete&&fe(e)}))}))}})),e.MutationObserver?new MutationObserver(re).observe(r,{childList:!0,subtree:!0,attributes:!0}):(r[o]("DOMNodeInserted",re,!0),r[o]("DOMAttrModified",re,!0),setInterval(re,999)),c("hashchange",re,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(e){t[o](e,re,!0)})),/d$|^c/.test(t.readyState)?me():(c("load",me),t[o]("DOMContentLoaded",re),u(me,2e4)),a.elements.length?(ie(),A._lsFlush()):re()},checkElems:re,unveil:fe,_aLSL:ve}),N=(O=E((function(e,t,n,a){var i,r,s;if(e._lazysizesWidth=a,a+="px",e.setAttribute("sizes",a),p.test(t.nodeName||""))for(r=0,s=(i=t.getElementsByTagName("source")).length;r<s;r++)i[r].setAttribute("sizes",a);n.detail.dataAttr||w(e,n.detail)})),k=function(e,t,n){var a,i=e.parentNode;i&&(n=x(e,i,n),(a=_(e,"lazybeforesizes",{width:n,dataAttr:!!t})).defaultPrevented||(n=a.detail.width)&&n!==e._lazysizesWidth&&O(e,i,a,n))},D=T((function(){var e,t=I.length;if(t)for(e=0;e<t;e++)k(I[e])})),{_:function(){I=t.getElementsByClassName(i.autosizesClass),c("resize",D)},checkElems:D,updateElem:k}),S=function(){!S.i&&t.getElementsByClassName&&(S.i=!0,N._(),L._())};var I,O,k,D;var j,F,P,W,B,q,R,H,$,U,G,V,X,Z,K,J,Q,Y,ee,te,ne,ae,ie,re,se,oe,le,ce,ue,de,fe,pe,ve,me;var he,ge,ye,be,ze,_e,we;return u((function(){i.init&&S()})),a={cfg:i,autoSizer:N,loader:L,init:S,uP:w,aC:y,rC:b,hC:g,fire:_,gW:x,rAF:A}}(e,e.document,Date);e.lazySizes=n,M&&(M=n)}("undefined"!=typeof window?window:{});var T=new(0,C.TheMovieDbAPI),L=document.querySelector(".films-list"),N=document.getElementById("tui-pagination-container"),S=null;function I(t){S||(S=new(e(A))(N,{totalItems:t,itemsPerPage:20,visiblePages:10,page:1,centerAlign:!1,usageStatistics:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn-more tui-{{type}}"><span class="tui-ico-{{type}}"></span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}"></span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}})).on("afterMove",(function(e){j(e.page)}))}var O=[];function k(e){return D.apply(this,arguments)}function D(){return(D=e(s)(e(o).mark((function t(n){var a,i;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.getGenres(n);case 3:a=t.sent,i=a.data.genres,O=e(x)(i),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function j(){return F.apply(this,arguments)}function F(){return F=e(s)(e(o).mark((function t(){var n,a,i,r,s,l=arguments;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>0&&void 0!==l[0]?l[0]:1,e.prev=1,e.next=4,T.getPopularFilms(n);case 4:a=e.sent,i=a.data,r=i.results,s=i.total_results,setTimeout((function(){I(s)}),3e3),P(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),t,null,[[1,12]])}))),F.apply(this,arguments)}function P(e){var t=e.map((function(e){var t=e.id,n=e.title,a=e.poster_path,i=e.release_date,r=e.genre_ids,s=[],o=!0,l=!1,c=void 0;try{for(var u,d=O[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){var f=u.value;r.includes(f.id)&&s.push(f.name)}}catch(e){l=!0,c=e}finally{try{o||null==d.return||d.return()}finally{if(l)throw c}}var p=s.join(", ");return'<li class="films-list__item poster">\n          <a href="#" class="films-list__link" data-movie-id="'.concat(t,'">\n            <div class="films-list__image-wrapper">\n              <img\n                width="280"\n                height="420"\n                alt="poster of ').concat(C.TheMovieDbAPI.IMG_URL+a,' movie"\n                class="films-list__image lazyload"\n                data-src="').concat(C.TheMovieDbAPI.IMG_URL+a,'"\n                src="https://college.unc.edu/wp-content/uploads/sites/1280/2020/05/film1.jpg"\n              />\n            </div>\n\t\t\t\t<div class="poster__info">\n            <h2 class="poster__title">').concat(n.toUpperCase(),'</h2>\n            <p class="poster__genre">\n\t\t\t\t<span class="poster__genres">').concat(p,'</span>\n              <span class="poster__year">').concat(parseInt(i)," </span>\n            </p>\n\t\t\t\t</div>\n          </a>\n        </li>")})).join("");(0,E.stopSpin)(),setTimeout((function(){L.innerHTML=t}),500)}k(),j();var W=new(0,C.TheMovieDbAPI),B=document.querySelector(".search"),q=document.querySelector(".films-list"),R=document.querySelector(".search__warning");k();var H,$=(H=e(s)(e(o).mark((function t(n){var a,i,r;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),W.query=n.target.value.trim(),W.page=1,""===W.query){e.next=24;break}return e.prev=4,e.next=7,W.fetchUniqFilms();case 7:if(a=e.sent,i=a.data,0!==(r=i.results).length){e.next=15;break}return R.innerHTML="Search result not successful. Enter the correct movie name.",q.innerHTML="",j(),e.abrupt("return");case 15:R.innerHTML="",P(r),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),console.log(e.t0);case 22:e.next=25;break;case 24:R.innerHTML="",j();case 25:case"end":return e.stop()}}),t,null,[[4,19]])}))),function(e){return H.apply(this,arguments)});B&&B.addEventListener("input",e(r)($,500)),i("8IL3w"),i("1Gwk9");i("jiOZA"),i("g4hZ6"),i("7hKzD"),i("dsadE"),i("7pG4u"),i("ghI91")}();
//# sourceMappingURL=index.bb19f42a.js.map
